{"version":3,"sources":["nexus/registry.cljc"],"mappings":";AAGA,AAAcA,gCAAU,6CAAA,7CAACC;AAEzB,iDAAA,jDAAMC,0GAAyBC;AAA/B,AACE,wGAAA,jGAACC,mDAAMJ,8BAAUK,gGAA2BF;;AAE9C,uCAAA,vCAAmBG,sFAAkBC,SAASJ;AAA9C,AACE,2GAAA,mFAAA,vLAACC,mDAAMJ,8BAAUQ,0KAAyBD,iBAAUJ;;AAEtD,uCAAA,vCAAmBM,sFAAkBC,SAASP;AAA9C,AACE,2GAAA,mFAAA,vLAACC,mDAAMJ,8BAAUQ,0KAAyBE,iBAAUP;;AAEtD,4CAAA,5CAAmBQ,gGAAuBC,cAAcT;AAAxD,AACE,2GAAA,mFAAA,vLAACC,mDAAMJ,8BAAUQ,oLAA8BI,sBAAeT;;AAEhE,AAAA,4CAAA,oDAAAU,hGAAmBE;AAAnB,AAAA,IAAAD,WAAA,AAAA;AAAA,AAAA,QAAAA;KAAA;AAAA,OAAAC,wEAAA,CAAA,UAAA,MAAA,CAAA,UAAA;;;KAAA;AAAA,OAAAA,wEAAA,CAAA,UAAA;;;;AAAA,MAAA,KAAAC,MAAA,CAAA,8DAAA,AAAA;;;;;AAAA,CAAA,0EAAA,1EAAmBD,qFACfE,MAAMd;AADV,AAEG,+EAAA,xEAACe,wHAAuBD,MAAMd;;;AAFjC,CAAA,0EAAA,1EAAmBY,qFAGfI;AAHJ,AAIG,gHAAA,zGAACf,0DAAMJ,8BAAUoB,+FAA2B,4DAAA,5DAACC,6CAAKC,mGAASH;;;AAJ9D,CAAA,oEAAA,pEAAmBJ;;AAAnB,AAMA,kCAAA,lCAAMQ;AAAN,AACE,OAAA,4GAAA,AAAAC,gBAAsBxB;;AAExB,8BAAA,9BAAMyB;AAAN,AAAA,OAAAD,gBACGxB;;AAEH,0BAAA,1BAAM0B,4DAAUC,MAAMC,cAAcC;AAApC,AACE,OAACC,oBAAe,AAACL,8BAAcE,MAAMC,cAAcC","names":["nexus.registry/!registry","cljs.core.atom","nexus.registry/register-system->state!","f","cljs.core.swap_BANG_","cljs.core/assoc","nexus.registry/register-action!","action-k","cljs.core/assoc-in","nexus.registry/register-effect!","effect-k","nexus.registry/register-placeholder!","placeholder-k","var_args","G__28919","nexus.registry/register-interceptor!","js/Error","phase","nexus.registry.register_interceptor_BANG_","interceptor","cljs.core/update","cljs.core.fnil","cljs.core/conj","nexus.registry/get-interceptors","cljs.core/deref","nexus.registry/get-registry","nexus.registry/dispatch","store","dispatch-data","actions","nexus.core/dispatch"],"sourcesContent":["(ns nexus.registry\n  (:require [nexus.core :as nexus]))\n\n(def ^:no-doc !registry (atom {}))\n\n(defn register-system->state! [f]\n  (swap! !registry assoc :nexus/system->state f))\n\n(defn ^{:indent 1} register-action! [action-k f]\n  (swap! !registry assoc-in [:nexus/actions action-k] f))\n\n(defn ^{:indent 1} register-effect! [effect-k f]\n  (swap! !registry assoc-in [:nexus/effects effect-k] f))\n\n(defn ^{:indent 1} register-placeholder! [placeholder-k f]\n  (swap! !registry assoc-in [:nexus/placeholders placeholder-k] f))\n\n(defn ^{:indent 1} register-interceptor!\n  ([phase f]\n   (register-interceptor! {phase f}))\n  ([interceptor]\n   (swap! !registry update :nexus/interceptors (fnil conj []) interceptor)))\n\n(defn get-interceptors []\n  (:nexus/interceptors @!registry))\n\n(defn get-registry []\n  @!registry)\n\n(defn dispatch [store dispatch-data actions]\n  (nexus/dispatch (get-registry) store dispatch-data actions))\n"],"x_google_ignoreList":[0]}